/* ===================== 1) CSS VARIABLES ===================== */
:root{
  --bg:#0b0f14; --text:#121316; --muted:#4a4f57;
  --panel:#fff; --line:#e7e9ee;
  --accent-red:#ce1126; --accent-gold:#c9a227; --accent-black:#16171b;
  --shadow:0 8px 24px rgba(0,0,0,.12);
  --radius:16px; --radius-sm:10px; --gap:24px;
}
*{ box-sizing:border-box; }

/* ===================== 2) BASE LAYOUT ===================== */
html,body{ height:100%; overflow-x:hidden; -webkit-text-size-adjust:100%; }
body{
  margin:0; background:#f7f1e3; color:var(--text);
  font:16px/1.75 "Cairo",system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif;
  min-height:100vh; display:flex; flex-direction:column;
}
.container{ max-width:1200px; margin:0 auto; padding:0 24px; width:100%; }
main.container{ flex:1 0 auto; padding-top:28px; }     /* unified page-top gap */
footer.flag{ flex:0 0 auto; margin-top:var(--gap); }
img,svg,canvas,video{ max-width:100%; height:auto; display:block; }
body{ overflow-wrap:anywhere; word-break:break-word; }

/* Remove top wiggle: first block should not add extra top margin */
main.container > :first-child{ margin-top:0 !important; }

/* ===================== 3) NAVBAR ===================== */
header.navbar{
  background:linear-gradient(180deg,#0a0e13,#0b0f14 60%, #0b0f14);
  color:#fff; width:100%; border-bottom:1px solid rgba(201,162,39,.18);
}
.navbar .container{
  display:flex; align-items:center; gap:28px; position:relative;
  padding:14px 24px;                          /* same horizontal as .container */
  overflow-x:auto; -webkit-overflow-scrolling:touch;
}
.navbar a{
  color:#dfe3ea; text-decoration:none; padding:6px 12px; display:inline-block;
  white-space:nowrap; position:relative;
}
.navbar a[aria-current="page"]{ color:#fff; }

/* Sliding underline under hovered/active link */
.nav-underline{
  position:absolute; left:24px; bottom:0; height:3px; width:0;
  background:var(--accent-red); border-radius:2px;
  transform:translateX(0); opacity:1;
  transition:transform 320ms cubic-bezier(.25,.8,.25,1), width 320ms cubic-bezier(.25,.8,.25,1), opacity 200ms ease;
  pointer-events:none;                /* never blocks clicks */
  z-index:0;
}
.navbar a{ z-index:1; }               /* links sit above the underline */

/* Focus-visible */
.navbar a:focus{ outline:none; }
.navbar a:focus-visible{ outline:3px solid var(--accent-gold); outline-offset:2px; }

/* Navbar quick-facts ticker (right side) */
.navbar .nav-ticker{
  margin-left:auto; min-width:0; flex:0 1 clamp(260px, 28vw, 400px);
  color:#aeb6c2; font-size:14px; line-height:1; white-space:nowrap;
  overflow:hidden; text-overflow:ellipsis; opacity:.9; padding-right:2px;
}
.nav-ticker span{ display:inline-block; animation:tickerIn .45s ease both; }
@keyframes tickerIn{ from{ transform:translateY(6px); opacity:0; } to{ transform:translateY(0); opacity:1; } }
@media (max-width:900px){ .nav-ticker{ display:none; } }

/* ===================== 4) HEADINGS / UTILITIES ===================== */
h1{ font-size:44px; line-height:1.1; margin:28px 0 18px; font-weight:800; letter-spacing:-.5px; }
h2{ font-size:24px; margin:0 0 8px; font-weight:800; }
h3{ font-size:18px; margin:0 0 10px; font-weight:800; }
.sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

/* ===================== 5) CARDS & GRIDS ===================== */
.card{
  background:#fffdf7; border:1px solid var(--line);
  border-radius:var(--radius); box-shadow:var(--shadow); padding:22px;
}
.grid{ display:grid; grid-template-columns:1.2fr 1fr; gap:var(--gap); }
.grid > .card, .grid > article.card, .grid > aside.card { align-self:start; }

/* ===================== 6) ISP GRID ===================== */
.isp-grid{ display:grid; gap:16px; grid-template-columns:repeat(2, minmax(0,1fr)); }
.isp-card{ display:flex; gap:12px; background:#fff; border:1px solid var(--line); border-radius:var(--radius-sm); padding:14px; }
.isp-name{ margin:0 0 6px; font-weight:700; }
.isp-speed,.isp-price{ margin:0; color:var(--muted); font-size:14px; }
.isp-logo{ --logo-size:44px; position:relative; width:var(--logo-size); height:var(--logo-size); border-radius:999px; background:#fff; border:1px solid var(--line); display:grid; place-items:center; overflow:hidden; }
.isp-logo img{ width:100%; height:100%; object-fit:contain; object-position:center; display:block; transform:scale(.92); }
.isp-logo.logo-vodafone img{ transform:scale(.88); }
.isp-logo.logo-orange   img{ transform:scale(.85); }
.isp-logo.logo-we       img{ transform:scale(1.00) translateY(1px); }
.isp-logo.logo-etisalat img{ transform:scale(.95)  translateY(1px); }

/* ===================== 7) FOOTER FLAG ===================== */
.flag .stripe{ height:10px; }
.flag .stripe.red{   background:#e0312f; }
.flag .stripe.white{ background:#fff; }
.flag .stripe.black{ background:#000; }

a:focus,button:focus,[tabindex]:focus{ outline:3px solid var(--accent-gold); outline-offset:2px; }
.card:hover{ transform:translateY(-1px); box-shadow:0 10px 28px rgba(0,0,0,.14); }

/* ===================== 8) CHARTS ===================== */
.chart-box{ position:relative; width:100%; height:300px; }
#usersChart{ width:100% !important; height:100% !important; display:block; }
.chart-wrap, .chart-box, .chart-box.small{ width:100%; max-width:100%; }
canvas{ display:block; max-width:100%; height:auto !important; }
@media (max-width:960px){ .chart-box{ height:260px; } }

/* ===================== 9) GROWTH PAGE ===================== */
.two-col{ display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:var(--gap); margin-top:var(--gap); }
.stats-grid{ display:grid; gap:16px; grid-template-columns:repeat(4, minmax(0,1fr)); }
@media (max-width:960px){ .stats-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
.stat-card{ border:1px solid var(--line); border-radius:12px; padding:16px; background:#fff; display:flex; flex-direction:column; gap:4px; }
.stat-value{ font-size:36px; line-height:1; font-weight:800; color:#101113; }
.stat-label{ font-weight:700; color:#2b2e33; }
.stat-caption{ margin:0; color:var(--muted); font-size:14px; }

.facts-grid{ display:grid; gap:16px; grid-template-columns:repeat(3, minmax(0,1fr)); }
@media (max-width:960px){ .facts-grid{ grid-template-columns:1fr; } }
.fact-card{ display:flex; gap:12px; align-items:flex-start; border:1px solid var(--line); border-radius:12px; padding:14px; background:#fff; }
.fact-dot{ width:10px; height:10px; border-radius:50%; background:var(--accent-red); margin-top:7px; }
.fact-title{ margin:0 0 6px; font-size:16px; font-weight:800; }
.fact-text{ margin:0; color:var(--muted); font-size:14px; }

.chart-box.small{ height:260px; }
@media (max-width:960px){ .two-col{ grid-template-columns:1fr; } .chart-box.small{ height:240px; } }

body[data-page="growth"] main.container > .card,
body[data-page="growth"] main.container > .two-col { margin-top:var(--gap); }

/* ===================== 10) HOME PAGE ===================== */
.hero{ display:flex; align-items:center; justify-content:space-between; gap:24px; padding:28px; }
.hero .lead{ margin:8px 0 16px; color:#2a2d32; font-size:18px; }
.cta-row{ display:flex; gap:12px; flex-wrap:wrap; }
.cta{ display:inline-block; padding:10px 14px; border-radius:10px; background:var(--accent-red); color:#fff; text-decoration:none; font-weight:700; }
.cta.ghost{ background:#fff; color:#101113; border:1px solid var(--line); }

.snapshots-grid{ display:grid; gap:16px; grid-template-columns:repeat(3, minmax(0,1fr)); }
@media (max-width:960px){ .snapshots-grid{ grid-template-columns:1fr; } }
.snapshot-card{ background:#fff; border:1px solid var(--line); border-radius:12px; padding:16px; }
.snapshot-value{ font-size:34px; line-height:1; font-weight:800; color:#101113; }
.snapshot-label{ font-weight:700; color:#2b2e33; margin-top:6px; }
.snapshot-caption{ margin:6px 0 0; color:#757980; font-size:14px; }

/* Mini timeline */
.mini-timeline{ overflow:hidden; }
.mini-tl{ display:flex; gap:16px; padding:4px 2px; margin:0; list-style:none; overflow-x:auto; -webkit-overflow-scrolling:touch; contain:layout paint size style; }
.mini-tl-item{ flex:0 0 auto; min-width:220px; max-width:85vw; border:1px solid var(--line); border-radius:12px; background:#fff; padding:12px; box-sizing:border-box; }
.mini-tl-item .pill{ display:inline-block; font-weight:800; font-size:14px; padding:.25rem .55rem; border:2px solid var(--accent-gold); border-radius:999px; background:#fff7df; color:#533f05; margin-bottom:6px; }
.mini-tl-title{ display:block; font-weight:800; margin-bottom:4px; }
.mini-tl-text{ color:var(--muted); font-size:14px; }

body[data-page="home"] main.container > .card,
body[data-page="home"] main.container > .hero.card{ margin-top:var(--gap); }

/* ===================== 11) TIMELINE ===================== */
.tl-grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:var(--gap); }
@media (max-width:1200px){ .tl-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
@media (max-width:760px){ .tl-grid{ grid-template-columns:1fr; } }

.tl-grid .ms-card{ display:block; border:1px solid var(--line); background:#fff; border-radius:12px; padding:14px; box-shadow:var(--shadow); transition:transform .15s ease, box-shadow .15s ease; }
.tl-grid .ms-card:hover{ transform:translateY(-2px); box-shadow:0 12px 30px rgba(0,0,0,.14); }
.tl-grid .pill{ display:inline-block; font-weight:800; font-size:14px; padding:.25rem .55rem; border:2px solid var(--accent-gold); border-radius:999px; background:#fff7df; color:#533f05; margin-bottom:8px; }
.tl-grid .ms-title{ margin:0 0 6px; font-weight:800; font-size:18px; }
.tl-grid .ms-text{ margin:0; color:var(--muted); line-height:1.6; }

/* ===================== 12) MOBILE STACKING ===================== */
@media (max-width:640px){
  .snapshots-grid,.isp-grid,.facts-grid,.mini-tl{
    display:grid; grid-template-columns:1fr !important; gap:.75rem !important;
  }
  .two-col{ display:grid !important; grid-template-columns:1fr !important; gap:1rem !important; }
  .card{ margin:.75rem 0; padding:1rem; }
  .hero .lead{ font-size:1rem; }
  h1,.page-title{ font-size:1.6rem; line-height:1.2; margin-top:.25rem; }
  .nav-underline{ left:24px !important; right:auto; max-width:calc(100% - 48px) !important; }
}
